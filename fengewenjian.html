<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <title>Document</title>
</head>
<body>
  <input type="file" id="uploadFile" name="uploadFile" ><br/>
  <span id="fileMsg"></span><br/>
  <button id="btn">分割文件</button>
</body>
  
<script type="text/javascript">
<!--

var uploadFile = document.getElementById("uploadFile").files[0];

var sliceSize = 1024;
var start = 0,end = 0;
var totalSize = uploadFile.size;

while(start < totalSize){
	start = end;
	end = start + sliceSize;
	
	//表单提交对象
	var xhr = new XMLHttpRequest();
	var fd = new FormData();
	//分割文件
	var part = uploadFile.slice(start, end);
	console.log(part);
	//提交
	fd.append("name", part);
	xhr.open("post", "uploadFile.action", false);
	xhr.send(fd);
}

//-->
</script>

</html>

